[% page.js.push("ntppool.js"); %]

<div class="block">

    [% IF 0 AND combust.current_account.vendor_zones_count > 0 %]
    <b>plan?</b> <!-- show "plan" for account  -->
    [% END %]

    [% FOR vz = combust.current_account.vendor_zones %]
    <h3>[% vz.zone_name | html %]</h3>
    <p>
        ID: [% vz.id %] / [% vz.id_token %]<br>
        Organization: [% vz.organization_name | html %]<br />
        Status: <i>[% vz.status %]</i><br />
        <a href="[% combust.manage_url('/manage/vendor/zone', id=vz.id_token) %]">
            [% IF vz.status == 'New' %]
                Finish setup
            [% ELSE %]
                View details
            [% END %]
        </a>
    </p>

    [% END # vendor_zone %]

    <p>
        <a href="[% combust.manage_url('/manage/vendor/new') %]">Setup a new vendor zone</a>
    </p>

    [% PROCESS tpl/vendor/help.html %]

    <!--
            todo: if zone is setup, but no "plan" exists, link to
            "setup a plan" workflow.

            status:
                new      = not submitted, show [ pay | open source ] form
                pending  = waiting for admin to approve open source plan
                approved = active
                rejected = new + message? Just send it back to new and add to the log?

    -->

</div>
